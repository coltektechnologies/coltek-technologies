#!/usr/bin/env sh
. "$(dirname "$0")/_/husky.sh"

set -e  # Stop script immediately if any command fails

echo "ğŸ” Running type check..."
npm run type-check || { 
  echo "âŒ Type check failed. Fix the issues and try again."; 
  exit 1; 
}

echo "ğŸ¨ Running lint and format..."
npx lint-staged || { 
  echo "âŒ Lint/format failed. Fix and try again."; 
  exit 1; 
}

echo "ğŸ§ª Running tests..."
npm test || { 
  echo "âŒ Tests failed. Fix the issues and try again."; 
  exit 1; 
}

echo "âœ… All checks passed! Proceeding with push..."
